<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<title></title>
		<style>
			* {
				padding: 0;
				margin: 0;
			}

			@font-face {
				font-family: "fzjt";
				src: url("../assets/font/å¡é€šç®€.ttf");
			}

			[contenteditable]:focus {
				outline: none;
			}
		</style>
		<script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>
	</head>

	<body>


		<div id="app">
			<div style="width:795px;height:1122px;overflow:hidden;">
				<div style="display:flex;height:100%;background-color:#f3eeea;">
					<!-- å·¦ä¾§ä¿¡æ¯æ  -->
					<div style="position:relative;width:30%;height:100%;background-color:#80a8cc;">

						<div id="avater" style="width:100%;height:200px;display:flex;align-items:center;justify-content:center;">
							<img style="width:120px;height:120px;" src="./images/touxiang.png" />
						</div>

						<!-- ä¸Šä¼ å¤´åƒé®ç½©å±‚ -->
						<div id="avaterMask" class="no_avater_add delete">
							<div>
								+
							</div>
						</div>

						<!-- ä¸ªäººä¿¡æ¯ -->
						<div>
							<div class="editor_border" style="text-align:center;color:white;">
								<span style="font-size:32px;font-weight:bold;padding:5px;">å¼ ä¸¹ä¸¹</span>
								<br />
								<br />
								<span style="font-size:22px;font-weight:bold;padding:5px;">åº”è˜å²—ä½ï¼šæ–°åª’ä½“è¿è¥</span>
								<br />
								<br />
								<br />

								<div style="text-align:left;margin:10px 0 0 10px; display: flex;align-items: center;">
									<!-- 	<img v-if="item.type == 'image'" style="width:26px;height:26px;" :src="'./images/'+item.prefix"alt /> -->
									<div style="padding-right:5px;" v-if="item.type == 'text'">åœ°å€</div>
									<span style="padding:5px;">å®‰å¾½çœé˜œé˜³å¸‚å¤ªå’Œå¿</span>
								</div>
							</div>

							<br />
							<br />
							<br />
							<br />

							<!-- æŠ€èƒ½è¯ä¹¦ -->
							<div id="skillList" class="editor_border editable" style="width:80%;color:white;margin-left:10px;">
								<div style="padding-bottom:5px;border-bottom:solid 5px white;">
									<span style="font-size:22px;font-weight:bold;">æŠ€èƒ½è¯ä¹¦</span>
								</div>

								<div style="margin-top:20px;">
									<span :index="index" style="font-size:18px;">è¯­è¨€èƒ½åŠ›ï¼š</span>
									<div v-if="need" onclick="delSelf(this)" class="delete_skill" @click="">Ã—</div>
									<p :index="index" style="text-indent:2rem;">é€šè¿‡å¤§å­¦è‹±è¯­å…­çº§</p>
								</div>

							</div>
							<!-- ä¸“ä¸šæŠ€èƒ½æ·»åŠ æŒ‰é’® -->
							<div id="add_skill_btn" class="skill_add_btn" style v-if="need" v-show="true">+æ·»åŠ ä¸“ä¸šæŠ€èƒ½</div>
						</div>
					</div>

					<!-- å³ä¾§æ¨¡å—æ  -->
					<div id="moudles" style="width:70%;height:100%;">

						<!-- æ¨¡å—ä¸€ -->
						<div class="editor_border MODULE" style="border:1px solid #80a8cc; width:90%;margin:30px auto 0 auto;padding:5px;">
							<!-- æ·»åŠ æ¨¡å—åˆ é™¤æ¨¡å—å·¥å…·æ¡ -->
							<div class="delete add_module_tabbar" style="">
								<div style="display:flex;justify-content: end;">
									<div onclick="addModule(this)" style="color:#3cdc80;cursor:pointer;">+æ·»åŠ æ¨¡å—</div>
									<div onclick="delModule(this)" style="margin-left:10px;color:#f60;cursor:pointer;">-åˆ é™¤æ¨¡å—</div>
								</div>
							</div>


							<!-- æ¨¡å—ä¸»é¢˜ -->
							<div style="display: flex;align-items:center;padding-bottom:5px;border-bottom:solid 1px #80a8cc;">
								<!-- <img v-if="item.type == 'image'" style="width:26px;height:26px;" :src="require('../assets/images/'+item.prefix)" alt /> -->
								<div style="font-size:20px;">âšª</div>
								<span style="font-size:28px;font-weight:bold;">sadkasjdj</span>
							</div>

							<!-- æ¨¡å—å†…å®¹æ¡æ•°åˆ—è¡¨ -->
							<div id="rows">

								<!-- æ¨¡å—ä¸­çš„ä¸€æ¡å†…å®¹ -->
								<div class="row" style="position: relative;">
									<div style="display:flex;font-size:17px;font-weight:bold;margin:5px 0;">
										<span style="flex-grow:1;line-height:35px;">2015.07~2015.08</span>
										<span style="flex-grow:1;line-height:35px;margin:0 5px ;">OPPOæ ¡å›­ä¿±ä¹éƒ¨</span>
										<span style="flex-grow:1;line-height:35px;">é¡¹ç›®æ–°åª’ä½“è¿è¥</span>
										<!-- <span style="flex-grow:1;line-height:35px;">æœ¬ç§‘</span> -->
									</div>

									<div style="position: relative;">

										<div id="">
										<div>åœ¨å®˜æ–¹å¾®åšå¹³å°ä¸­ï¼Œæ‰“é€ â€œOPPOæ ¡å›­ä¿±ä¹éƒ¨â€çš„æ¦‚å¿µï¼Œä¸ºOPPOå…¬å¸åœ¨å…¨å›½èŒƒå›´å†…å„å¤§é«˜é›†ç»“ç²‰ä¸ï¼Œè®©å­¦ç”Ÿç”±å‚ä¸è€…å˜æˆåˆ›é€ è€…ï¼Œå˜æˆOPPOçš„æ ¡å›­ä»£è¨€äººï¼›
											æ ¹æ®OPPOå®¢æˆ·è¯‰æ±‚ï¼ŒåŸºäºäº§å“ç‰¹ç‚¹ï¼Œè´Ÿè´£å“ç‰Œä¼ æ’­ç­–ç•¥ï¼ŒåŒ…æ‹¬åˆ›æ„æ„æƒ³ã€æ–‡æ¡ˆæ’°å†™ç­‰ï¼› æŒ–æ˜åˆ†æç½‘å‹ä½¿ç”¨ä¹ æƒ¯ã€æƒ…æ„ŸåŠä½“éªŒæ„Ÿå—ï¼Œç»“åˆäº§å“ç‰¹ç‚¹æ’°å†™ä¼ æ’­ç­–åˆ’æ–¹æ¡ˆã€‚</div>	
										</div>
										
										
										
										<div class="delete" id="description" onclick="delParent(this)" style="position: absolute;color:red;font-size: 13px;bottom:3px;right:3px;cursor:pointer;"
										 title="éšè—æè¿°">ğŸš«</div>
									</div>

									<!-- æ·»åŠ ä¸€æ¡å†…å®¹åˆ é™¤ä¸€æ¡å†…å®¹å·¥å…·æ¡ -->
									<div class="delete" style="z-index: 1; position: absolute;width: 100%;">
										<div style="z-index:1;font-size:13px;box-shadow:0 1px 2px #ccc;background-color: #f8f8f8;width: 100%;display:flex;">
											<div onclick="howToWrite(this)" style="color: #1e9fff;cursor:pointer;">å¦‚ä½•å¡«å†™?</div>
											<div style="display: flex;flex-grow:1;justify-content:end;">
												<div onclick="addRow(this)" style="color:#3cdc80;cursor:pointer;">+æ–°å¢ä¸€æ¡</div>
												<div onclick="delRow(this)" style="margin-left:10px;color:#f60;cursor:pointer;">-åˆ é™¤æœ¬æ¡</div>
											</div>
										</div>
									</div>
								</div>


							</div>

						</div>




					</div>
				</div>
			</div>
		</div>


		<link rel="stylesheet/less" type="text/css" href="./style/style.less" />
		<script src="./js/less.min.js" type="text/javascript"></script>

		<script>
			$("#avaterMask").mouseleave(() => {
				$("#avaterMask").attr("style", "visibility:hidden;");
			}).click(() => {
				uploadAvater()
			})
			$("#avater").mouseenter(() => {
				$("#avaterMask").attr("style", "visibility:visible;");
			})

			var text = '<div  style="margin-top:20px;">' +
				'<span :index="index" style="font-size:18px;">ä¸“ä¸šæŠ€èƒ½</span>' +
				'<div v-if="need" class="delete_skill" onclick="delSelf(this)" >Ã—</div>' +
				'<p :index="index" style="text-indent:2rem;">æŠ€èƒ½æè¿°</p>' +
				'</div>';

			$("#add_skill_btn").click(() => {
				$("#skillList").append(text);
			});

			function uploadAvater() {
				let input = document.createElement("input");
				input.type = "file";
				input.click();
				let that = this;
				input.onchange = () => {
					let file = input.files[0];
					let form = new FormData();
					form.append("file", file);
					let windowURL = window.URL || window.webkitURL;
					that.imgPath = windowURL.createObjectURL(file);
					that.isuUploadAvater = false;
					console.log(imgPath);
				};
			}

			function doDelSelf(that) {
				$(that).parent().remove();
			}
			function doDelParent(that) {
				$(that).parent().remove();
			}
			
			function doAddModule(that){
				console.log("doAddModule",that);
			}
			function doDelModule(that){
				var th = getParentByClassName(that,"MODULE");
				th.remove();
			}
			function doAddRow(that){
				var html = '<div class="row" style="position: relative;">'+
					'<div style="display:flex;font-size:17px;font-weight:bold;margin:5px 0;">'+
						'<span style="flex-grow:1;line-height:35px;">2015.07~2015.08</span>'+
						'<span style="flex-grow:1;line-height:35px;margin:0 5px ;">OPPOæ ¡å›­ä¿±ä¹éƒ¨</span>'+
						'<span style="flex-grow:1;line-height:35px;">é¡¹ç›®æ–°åª’ä½“è¿è¥</span>'+
					'</div>'+
					'<div style="position: relative;">'+
						'<p>åœ¨å®˜æ–¹å¾®åšå¹³å°ä¸­ï¼Œæ‰“é€ â€œOPPOæ ¡å›­ä¿±ä¹éƒ¨â€çš„æ¦‚å¿µï¼Œä¸ºOPPOå…¬å¸åœ¨å…¨å›½èŒƒå›´å†…å„å¤§é«˜é›†ç»“ç²‰ä¸ï¼Œè®©å­¦ç”Ÿç”±å‚ä¸è€…å˜æˆåˆ›é€ è€…ï¼Œå˜æˆOPPOçš„æ ¡å›­ä»£è¨€äººï¼›'+
						'æ ¹æ®OPPOå®¢æˆ·è¯‰æ±‚ï¼ŒåŸºäºäº§å“ç‰¹ç‚¹ï¼Œè´Ÿè´£å“ç‰Œä¼ æ’­ç­–ç•¥ï¼ŒåŒ…æ‹¬åˆ›æ„æ„æƒ³ã€æ–‡æ¡ˆæ’°å†™ç­‰ï¼› æŒ–æ˜åˆ†æç½‘å‹ä½¿ç”¨ä¹ æƒ¯ã€æƒ…æ„ŸåŠä½“éªŒæ„Ÿå—ï¼Œç»“åˆäº§å“ç‰¹ç‚¹æ’°å†™ä¼ æ’­ç­–åˆ’æ–¹æ¡ˆã€‚</p>'+
						'<div onclick="delParent(this)" style="position: absolute;color:red;font-size: 13px;bottom:3px;right:3px;cursor:pointer;visibility:hidden;" title="éšè—æè¿°">ğŸš«</div>'+
					'</div>'+
					'<div  class="delete" style="z-index: 1; position: absolute;width: 100%;">'+
						'<div style="z-index:1;font-size:13px;box-shadow:0 1px 2px #ccc;background-color: #f8f8f8;width: 100%;display:flex;">'+
						'	<div onclick="howToWrite(this)" style="color: #1e9fff;cursor:pointer;">å¦‚ä½•å¡«å†™</div>'+
							'<div style="display: flex;flex-grow:1;justify-content:end;">'+
								'<div onclick="addRow(this)" style="color:#3cdc80;cursor:pointer;">+æ–°å¢ä¸€æ¡</div>'+
								'<div onclick="delRow(this)" style="margin-left:10px;color:#f60;cursor:pointer;">-åˆ é™¤æœ¬æ¡</div>'+
							'</div></div></div></div>';
						
				
		
				var classname="row";
				var th = getParentByClassName(that,classname);
				th.after(html);
				
			}
			function doDelRow(that){
				var classname="row";
				var th = getParentByClassName(that,classname);
				if(th.siblings().length == 0){
					delModule(th);
				}else{
					th.remove();
				}
			}
			function doHowToWrite(that){
				console.log("doHowToWrite");
			}
			
			function getParentByClassName(curObject,classname){
				var th = $(curObject);
				while(true){
					name = th.attr("class");
					if(classname && name.indexOf(classname)!=-1){
						break;
					}
					th = th.parent();
				}
				return th;
			}
		</script>

		<script src="./js/medium-editor.js"></script>
		<link rel="stylesheet" href="https://yabwe.github.io/medium-editor/bower_components/medium-editor/dist/css/themes/beagle.css"id="medium-editor-theme">
		<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/medium-editor@latest/dist/css/medium-editor.min.css" type="text/css"
		 media="screen" charset="utf-8">
		<script>
			var editors = document.querySelectorAll(".editor_border");
			var editor = new MediumEditor(editors);
		</script>
	</body>
</html>
